{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\SkillMaster_CloudProject\\\\skillmaster\\\\src\\\\Components\\\\Details.js\";\nimport React, { Component } from 'react';\nimport { useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { CircularProgressbar } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\nimport Footer from \"./footer\";\nimport { useState, useEffect } from 'react';\nimport '../Components/question.css';\nimport '../Components/creatorcss.css';\nimport '../Components/profilecss.css';\nimport { UserContext } from \"../providers/UserProvider\";\nimport firebase from \"firebase/app\";\nimport { auth } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nrequire('firebase/auth');\n\nrequire('firebase/database');\n\nconst percentage = 66;\n\nclass Details extends Component {\n  constructor(props) {\n    super(props);\n\n    this.timer = () => {\n      let time = parseInt(this.state.time);\n      const interval = setInterval(() => {\n        time = time - 20;\n        const ferr = firebase.database().ref('scavanger/RegisteredTeam/' + this.state.key);\n        ferr.update({\n          time: time\n        });\n        console.log(\"hello\");\n      }, 20000);\n    };\n\n    this.loadques = () => {\n      const ferr = firebase.database().ref('scavanger/RegisteredTeam/').orderByChild('LeadEmail').equalTo(this.state.email);\n      ferr.once(\"child_added\").then(snapshot => {\n        this.setState({\n          key: snapshot.key\n        });\n\n        if (snapshot.val().Status != \"Applied\") {\n          this.setState({\n            applied: false\n          });\n          console.log(\"error :: Not Applied\");\n        } else {\n          this.setState({\n            log: \"Assigning You a Set of Questions and Coins -23%\"\n          });\n          const sett = firebase.database().ref('scavanger/RegisteredTeam/' + snapshot.key + '/');\n          sett.once(\"value\").then(setno => {\n            if (setno.val().set != null) {\n              let set = setno.val().set;\n              this.setState({\n                set: set\n              });\n              let coins = setno.val().coins;\n              this.setState({\n                coins: coins\n              });\n              let time = setno.val().time;\n              this.setState({\n                time: time\n              });\n              this.setState({\n                loadq: false\n              });\n              this.setState({\n                log: \"Assigning You a Set of Questions and Coins -23%\"\n              });\n              const Questio = firebase.database().ref('questions/set' + set + '/');\n              Questio.once(\"value\").then(ques => {\n                this.setState({\n                  question: ques.val().questionOne\n                });\n                this.setState({\n                  questionUrl: ques.val().questionOneimageURL\n                });\n                this.setState({\n                  hint01: ques.val().hintOneOne\n                });\n                this.setState({\n                  hint02: ques.val().hintOneTwo\n                });\n                this.setState({\n                  loadq: false\n                });\n                this.timer();\n              });\n            } else {\n              const rand = parseInt(1 + Math.random() * (40 - 1));\n              const setUp = firebase.database().ref('scavanger/RegisteredTeam/' + snapshot.key + '/');\n              setUp.update({\n                set: rand,\n                coins: 100,\n                time: 2700\n              }).then(error => {\n                if (!error) {\n                  this.setState({\n                    set: rand\n                  });\n                  const Questio = firebase.database().ref('questions/set' + rand + '/');\n                  Questio.once(\"value\").then(ques => {\n                    this.setState({\n                      question: ques.val().questionOne\n                    });\n                    this.setState({\n                      questionUrl: ques.val().questionOneimageURL\n                    });\n                    this.setState({\n                      hint01: ques.val().hintOneOne\n                    });\n                    this.setState({\n                      hint02: ques.val().hintOneTwo\n                    });\n                  });\n                }\n              });\n            }\n          });\n        }\n      });\n    };\n\n    this.reducecoin = event => {\n      let coi = 0;\n      const coin = firebase.database().ref('scavanger/RegisteredTeam/' + this.state.key + '/coins');\n      coin.once(\"value\").then(ques => {\n        coi = parseInt(ques.val());\n      }).then(error => {\n        if (coi > 10) {\n          coi = coi - 10;\n          this.setState({\n            coins: coi\n          });\n          const setUp = firebase.database().ref('scavanger/RegisteredTeam/' + this.state.key + '/');\n          setUp.update({\n            coins: coi\n          }).then(error => {\n            if (!this.state.hintO) {\n              let vd = this.state.hint01;\n              this.setState({\n                hint1: vd\n              });\n              this.setState({\n                hintO: true\n              });\n            } else {\n              let vd = this.state.hint02;\n              this.setState({\n                hint2: vd\n              });\n              this.setState({\n                hntbtn: \"\"\n              });\n            }\n          });\n        }\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let ans = this.state.subject;\n      const coini = firebase.database().ref('scavanger/RegisteredTeam/' + this.state.key + '/');\n      coini.update({\n        AnswerOne: ans\n      }).then(error => {\n        alert(\"Answer Updated !Please move to next Question\");\n      });\n    };\n\n    this.handleSubjectChange = event => {\n      this.setState({\n        subject: event.target.value\n      });\n    };\n\n    this.state = {\n      publicquizlist: [],\n      question: '',\n      imgUrl: '',\n      hint1: '',\n      hint2: '',\n      hint01: '',\n      hint02: '',\n      hintO: false,\n      hintT: false,\n      uid: '',\n      email: '',\n      subject: '',\n      name: '',\n      user: '',\n      key: '',\n      set: '',\n      hntbtn: \"Let's see a hint\",\n      questionUrl: '',\n      applied: true,\n      coins: '100',\n      time: '',\n      loadq: true,\n      log: \"Fecthing Email Data from Google API's -19%\"\n    };\n  }\n\n  componentDidMount() {\n    let names = \"\";\n    let question = \"\";\n    let imgUrl = \"\";\n    let key = \"\";\n    auth.onAuthStateChanged(userAuth => {\n      names = userAuth.displayName;\n      this.setState({\n        user: userAuth\n      });\n      this.setState({\n        name: names\n      });\n      this.setState({\n        email: userAuth.email\n      });\n      this.setState({\n        key: \"0\"\n      });\n      const interval = setInterval(() => {\n        if (this.state.loadq) {\n          this.loadques();\n          console.log(\"hellos\");\n        }\n      }, 4000);\n    });\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(auth => {\n      this.setState({\n        auth: auth.displayName\n      });\n      const quizref = firebase.database().ref('/quizes/' + this.props.match.params.id + '/');\n      quizref.on(\"value\", snapshot => {\n        let publicquizlist = [];\n        publicquizlist.push(snapshot.val());\n        this.setState({\n          publicquizlist: publicquizlist\n        });\n        this.setState({\n          questionDetails: true\n        }); //})\n      });\n    });\n  }\n\n  render() {\n    if (this.state.auth != '') {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" m-5 p-5   \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" m-3 p-5  graph \",\n            children: [/*#__PURE__*/_jsxDEV(\"section\", {\n              className: \"  row justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [this.state.questionDetails ? /*#__PURE__*/_jsxDEV(\"section\", {\n                  children: this.state.publicquizlist.map(obj => {\n                    return /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row justify-content-center \",\n                        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                          children: obj.quizName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 300,\n                          columnNumber: 36\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 32\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mx-5 px-5 my-4\",\n                        children: [\"by \", obj.by]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 36\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row justify-content-center\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"mx-3\",\n                          style: {\n                            width: 200,\n                            height: 200\n                          },\n                          children: /*#__PURE__*/_jsxDEV(CircularProgressbar, {\n                            styles: {\n                              path: {\n                                stroke: `rgba(238, 34, 34, 0.7)`,\n                                strokeWidth: 3.5,\n                                background: true,\n                                backgroundColor: '#161010',\n                                strokeLinecap: 'round',\n                                transformOrigin: 'center center'\n                              },\n                              trail: {\n                                // Trail color\n                                stroke: '#ffffff',\n                                strokeWidth: 3.5\n                              }\n                            },\n                            value: obj.numberofquestions,\n                            maxValue: 20,\n                            text: `${obj.numberofquestions} \\n Qs`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 307,\n                            columnNumber: 25\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 306,\n                          columnNumber: 34\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"mx-3\",\n                          style: {\n                            width: 200,\n                            height: 200\n                          },\n                          children: /*#__PURE__*/_jsxDEV(CircularProgressbar, {\n                            styles: {\n                              path: {\n                                stroke: `rgba(238, 34, 34, 0.7)`,\n                                strokeWidth: 3.5,\n                                background: true,\n                                backgroundColor: '#161010',\n                                strokeLinecap: 'round',\n                                transformOrigin: 'center center'\n                              },\n                              trail: {\n                                // Trail color\n                                stroke: '#ffffff',\n                                strokeWidth: 3.5\n                              }\n                            },\n                            value: obj.views,\n                            maxValue: obj.views + 10,\n                            text: `${obj.views} \\n Views`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 325,\n                            columnNumber: 25\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 324,\n                          columnNumber: 25\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 57\n                }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"my-3 pt-5 row justify-content-center\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/Instructions/${this.props.match.params.id}`,\n                    className: \" btn effect01 \",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"Participate in \", this.props.match.params.id]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 86\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 1\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 1\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 20\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/LoginCSI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 28\n      }, this);\n    }\n  }\n\n}\n\nDetails.contextType = UserContext;\nexport default Details;","map":{"version":3,"sources":["C:/Users/USER/SkillMaster_CloudProject/skillmaster/src/Components/Details.js"],"names":["React","Component","useContext","Redirect","Link","CircularProgressbar","Footer","useState","useEffect","UserContext","firebase","auth","require","percentage","Details","constructor","props","timer","time","parseInt","state","interval","setInterval","ferr","database","ref","key","update","console","log","loadques","orderByChild","equalTo","email","once","then","snapshot","setState","val","Status","applied","sett","setno","set","coins","loadq","Questio","ques","question","questionOne","questionUrl","questionOneimageURL","hint01","hintOneOne","hint02","hintOneTwo","rand","Math","random","setUp","error","reducecoin","event","coi","coin","hintO","vd","hint1","hint2","hntbtn","handleSubmit","preventDefault","ans","subject","coini","AnswerOne","alert","handleSubjectChange","target","value","publicquizlist","imgUrl","hintT","uid","name","user","componentDidMount","names","onAuthStateChanged","userAuth","displayName","quizref","match","params","id","on","push","questionDetails","render","map","obj","quizName","by","width","height","path","stroke","strokeWidth","background","backgroundColor","strokeLinecap","transformOrigin","trail","numberofquestions","views","contextType"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\r\nimport { useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom'\r\nimport { CircularProgressbar } from 'react-circular-progressbar';\r\nimport 'react-circular-progressbar/dist/styles.css';\r\nimport Footer from \"./footer\"\r\nimport  { useState, useEffect } from 'react';\r\nimport '../Components/question.css'\r\nimport '../Components/creatorcss.css'\r\nimport '../Components/profilecss.css'\r\n\r\nimport { UserContext } from \"../providers/UserProvider\";\r\nimport firebase from \"firebase/app\";\r\nimport { auth } from \"../firebase\"\r\nrequire('firebase/auth');\r\nrequire('firebase/database');\r\n\r\n\r\n\r\nconst percentage = 66;\r\nclass Details extends Component{\r\n\r\n\r\n\r\n    static contextType = UserContext;\r\n    \r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n\r\n\r\n            publicquizlist:[],\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            question:'',\r\n            imgUrl:'',\r\n            hint1:'',\r\n            hint2:'',\r\n            hint01:'',\r\n            hint02:'',\r\n            hintO:false,\r\n            hintT:false,\r\n            uid:'',\r\n            email:'',\r\n            subject:'',\r\n            name:'',\r\n            user:'',\r\n            key:'',\r\n            set:'',\r\n            hntbtn:\"Let's see a hint\",\r\n            questionUrl:'',\r\n            applied:true,\r\n            coins:'100',\r\n            time:'',\r\n            loadq:true,\r\n            log:\"Fecthing Email Data from Google API's -19%\"\r\n        }\r\n        \r\n    }\r\n\r\ncomponentDidMount(){\r\n    let names =\"\"\r\n    let question=\"\"\r\n    let imgUrl=\"\"\r\n    let key=\"\"\r\n    auth.onAuthStateChanged(userAuth => {\r\n\r\n        names=userAuth.displayName\r\n        this.setState({ user: userAuth });\r\n        this.setState({ name: names });\r\n        this.setState({ email: userAuth.email });\r\n        this.setState({ key: \"0\" });\r\n\r\n\r\n        const interval = setInterval(() => {\r\n             \r\n            if(this.state.loadq){\r\n                \r\n            this.loadques()\r\n            console.log(\"hellos\")\r\n            }\r\n            \r\n        }, 4000);\r\n       \r\n        \r\n      });\r\n}\r\n\r\n\r\n\r\n    \r\n\r\n\r\n    timer=()=>{\r\n     \r\n\r\n        \r\n    \r\n        let time =parseInt( this.state.time)\r\n        const interval = setInterval(() => {\r\n            time=time-20\r\n            const ferr=firebase.database().ref('scavanger/RegisteredTeam/'+this.state.key)\r\n            ferr.update({\r\n                    time:time\r\n            })\r\n            console.log(\"hello\")\r\n        }, 20000);\r\n        }\r\n\r\nloadques=()=>{\r\n    const ferr=firebase.database().ref('scavanger/RegisteredTeam/').orderByChild('LeadEmail').equalTo(this.state.email)\r\n    ferr.once(\"child_added\").then((snapshot)=>{\r\n        \r\n        this.setState({ key: snapshot.key });\r\n        if(snapshot.val().Status!=\"Applied\"){\r\n\r\n\r\n            this.setState({ applied: false });\r\n            console.log(\"error :: Not Applied\")\r\n\r\n        }else{       this.setState({ log: \"Assigning You a Set of Questions and Coins -23%\" });\r\n            const sett=firebase.database().ref('scavanger/RegisteredTeam/'+snapshot.key+'/')\r\n            sett.once(\"value\").then((setno)=>{\r\n                if(setno.val().set!=null){\r\n                let set=setno.val().set\r\n                this.setState({ set: set });\r\n                let coins=setno.val().coins\r\n                this.setState({ coins: coins });\r\n                let time=setno.val().time\r\n                this.setState({ time: time });\r\n                this.setState({ loadq: false });\r\n                \r\n            this.setState({ log: \"Assigning You a Set of Questions and Coins -23%\" });\r\n\r\n\r\n                const Questio =firebase.database().ref('questions/set'+set+'/')\r\n                Questio.once(\"value\").then((ques)=>{\r\n                    \r\n                    this.setState({ question: ques.val().questionOne });\r\n                    this.setState({ questionUrl: ques.val().questionOneimageURL });\r\n                    this.setState({ hint01: ques.val().hintOneOne });\r\n                    this.setState({ hint02: ques.val().hintOneTwo });\r\n                    this.setState({ loadq: false });\r\n                    this.timer()\r\n                })\r\n\r\n\r\n                }else{\r\n                    const rand = parseInt(1 + Math.random() * (40 - 1));\r\n            const setUp=firebase.database().ref('scavanger/RegisteredTeam/'+snapshot.key+'/')\r\n            setUp.update(\r\n                        {\r\n                            set:rand,\r\n                            coins:100,\r\n                            time:2700\r\n                        }\r\n                        \r\n                        ).then((error)=>{\r\n                                if(!error){\r\n                            this.setState({ set: rand });\r\n                            const Questio =firebase.database().ref('questions/set'+rand+'/')\r\n                            Questio.once(\"value\").then((ques)=>{\r\n                                this.setState({ question: ques.val().questionOne });\r\n                                this.setState({ questionUrl: ques.val().questionOneimageURL });\r\n                                this.setState({ hint01: ques.val().hintOneOne });\r\n                                this.setState({ hint02: ques.val().hintOneTwo });\r\n                            })                                \r\n                        }})\r\n                }\r\n            })\r\n                   \r\n\r\n                    \r\n                    \r\n            }\r\n    })\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n reducecoin=(event)=>{\r\n    \r\n    \r\n    let coi=0\r\n    const coin=firebase.database().ref('scavanger/RegisteredTeam/'+this.state.key+'/coins')\r\n    coin.once(\"value\").then((ques)=>{\r\n        coi=parseInt(ques.val())\r\n    }).then((error)=>{\r\n        if(coi>10){\r\n        coi=coi-10;\r\n        this.setState({coins : coi})\r\n        const setUp=firebase.database().ref('scavanger/RegisteredTeam/'+this.state.key+'/')\r\n        setUp.update(\r\n                {\r\n                    coins:coi\r\n                }).then((error)=>{\r\n                    if(!this.state.hintO){\r\n                        \r\n                    let vd =this.state.hint01\r\n                    this.setState({ hint1:  vd});\r\n                    this.setState({ hintO:  true});\r\n                    }else {\r\n                        \r\n                        let vd =this.state.hint02\r\n                        this.setState({ hint2:  vd});\r\n                        this.setState({ hntbtn:  \"\"});\r\n\r\n                        }\r\n                })\r\n    }}\r\n    \r\n    )\r\n\r\n\r\n\r\n    \r\n}\r\n\r\n\r\n\r\nhandleSubmit=(event)=>{\r\n    \r\n    event.preventDefault();\r\n    let ans =this.state.subject\r\n\r\n    const coini=firebase.database().ref('scavanger/RegisteredTeam/'+this.state.key+'/')\r\n    coini.update({\r\n        AnswerOne:ans\r\n    }).then((error)=>{\r\n        \r\n        alert(\"Answer Updated !Please move to next Question\")\r\n    })\r\n}\r\nhandleSubjectChange=(event)=>{\r\n    this.setState({\r\n        subject:event.target.value\r\n    });\r\n}\r\n\r\n\r\n\r\ncomponentDidMount(){\r\n    auth.onAuthStateChanged(auth =>{\r\n        this.setState({auth :auth.displayName})\r\n        \r\n        const quizref =firebase.database().ref('/quizes/'+this.props.match.params.id+'/')\r\n        quizref.on(\"value\",snapshot=>{\r\n            let publicquizlist = [];\r\n                        publicquizlist.push(snapshot.val());\r\n                        this.setState({ publicquizlist: publicquizlist });\r\n                        this.setState({questionDetails:true})\r\n        //})\r\n\r\n    })\r\n})\r\n\r\n}\r\n\r\n\r\n\r\n    \r\n\r\n    render(){\r\n\r\n\r\n            if(this.state.auth!=''){\r\n                     return(\r\n            <>\r\n            <div className=\" m-5 p-5   \">\r\n                    <div className=\" m-3 p-5  graph \">\r\n                <section className=\"  row justify-content-center\">\r\n                   \r\n                   <div >\r\n\r\n\r\n                                \r\n\r\n\r\n                            {this.state.questionDetails?<section>\r\n                   {this.state.publicquizlist.map(obj =>{ \r\n                             return(\r\n\r\n                                <>\r\n                                \r\n                               <div  className=\"row justify-content-center \">\r\n                                   <h1>{obj.quizName}</h1></div> \r\n\r\n\r\n                                   <div className=\"mx-5 px-5 my-4\">by {obj.by}</div>\r\n\r\n                            <div className=\"row justify-content-center\">\r\n                                 <div className=\"mx-3\" style={{ width: 200, height: 200 }}>     \r\n                        <CircularProgressbar  styles={{\r\n                                path: {\r\n                                    stroke: `rgba(238, 34, 34, 0.7)`,\r\n                                    strokeWidth:3.5,\r\n                                    background:true,\r\n                                    backgroundColor: '#161010',\r\n                                    strokeLinecap: 'round',\r\n                                    transformOrigin: 'center center',\r\n                                    \r\n                                  },\r\n                                  trail: {\r\n                                    // Trail color\r\n                                    stroke: '#ffffff',\r\n                                    strokeWidth:3.5,\r\n                                  },\r\n    }} value={obj.numberofquestions} maxValue={20} text={`${obj.numberofquestions} \\n Qs`} />\r\n                        </div>\r\n                        <div className=\"mx-3\" style={{ width: 200, height: 200 }}>\r\n                        <CircularProgressbar styles={{\r\n                                path: {\r\n                                    stroke: `rgba(238, 34, 34, 0.7)`,\r\n                                    strokeWidth:3.5,\r\n                                    background:true,\r\n                                    backgroundColor: '#161010',\r\n                                    strokeLinecap: 'round',\r\n                                    transformOrigin: 'center center',\r\n                                    \r\n                                  },\r\n                                  trail: {\r\n                                    // Trail color\r\n                                    stroke: '#ffffff',\r\n                                    strokeWidth:3.5,\r\n                                  },\r\n    }} value={obj.views} maxValue={obj.views+10} text={`${obj.views} \\n Views`} />\r\n                        </div></div>\r\n\r\n\r\n\r\n\r\n                            \r\n                                </>\r\n                             )})}    \r\n                             \r\n                             \r\n                             </section>:null}\r\n\r\n\r\n<div  className=\"my-3 pt-5 row justify-content-center\" >\r\n<Link to={`/Instructions/${this.props.match.params.id}`} className=\" btn effect01 \" ><span>Participate in {this.props.match.params.id}</span></Link> \r\n      </div>             \r\n                   </div>\r\n                      \r\n                   </section> </div></div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<Footer/>\r\n            </>\r\n        )\r\n                }else{\r\n                    return <Redirect to=\"/LoginCSI\" />\r\n                }\r\n\r\n       \r\n}\r\n\r\n}\r\n\r\n\r\nexport default Details"]},"metadata":{},"sourceType":"module"}