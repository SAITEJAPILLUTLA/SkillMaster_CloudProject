{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\SkillMaster_CloudProject\\\\skillmaster\\\\src\\\\Components\\\\creator.js\";\nimport React, { Component } from 'react';\nimport { useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport Footer from \"../Components/footer\";\nimport { useState, useEffect } from 'react';\nimport '../Components/question.css';\nimport '../Components/creatorcss.css';\nimport { UserContext } from \"../providers/UserProvider\";\nimport firebase from \"firebase/app\";\nimport { auth } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nrequire('firebase/auth');\n\nrequire('firebase/database');\n\nrequire('firebase/storage');\n\nconst storage = firebase.storage();\nconst timeStamp = Date.now();\n\nclass Creator extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleQuestionChange = event => {\n      this.setState({\n        question: event.target.value\n      });\n    };\n\n    this.handleoptionOneChange = event => {\n      this.setState({\n        optionOne: event.target.value\n      });\n    };\n\n    this.handleoptionTwoChange = event => {\n      this.setState({\n        optionTwo: event.target.value\n      });\n    };\n\n    this.handleoptionThreeChange = event => {\n      this.setState({\n        optionThree: event.target.value\n      });\n    };\n\n    this.handleoptionFourChange = event => {\n      this.setState({\n        optionFour: event.target.value\n      });\n    };\n\n    this.handleQuestionImageChange = e => {\n      if (e.target.files[0]) {\n        const image = e.target.files[0];\n        this.setState(() => ({\n          image\n        }));\n      }\n    };\n\n    this.handleQuestionImageUpload = () => {\n      const {\n        image\n      } = this.state;\n      const uploadTask = storage.ref(`/images/${timeStamp}`).put(image);\n      uploadTask.on(\"state_changed\", snapshot => {\n        // progress function ...\n        const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n        this.setState({\n          progress\n        });\n      }, error => {\n        // Error function ...\n        console.log(error);\n      }, () => {\n        // complete function ...\n        uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\n          console.log('File available at', downloadURL);\n          this.setState({\n            url: downloadURL\n          });\n        });\n      });\n    };\n\n    this.handleSubmit = event => {\n      let quiz = \"\";\n      quiz = this.state.quiz;\n      let question = \"\";\n      question = this.state.question;\n      let url = \"\";\n      url = this.state.url;\n      let optionOne = \"\";\n      optionOne = this.state.optionOne;\n      let optionTwo = \"\";\n      optionTwo = this.state.optionTwo;\n      let optionThree = \"\";\n      optionThree = this.state.optionThree;\n      let optionFour = \"\";\n      optionFour = this.state.optionFour;\n      event.preventDefault();\n      auth.onAuthStateChanged(userAuth => {\n        let refer = firebase.database().ref('/users/' + userAuth.uid + '/public/' + this.state.quiz + '/');\n\n        if (!this.state.public) {\n          refer = firebase.database().ref('/users/' + userAuth.uid + '/private/' + this.state.quiz + '/');\n        }\n\n        refer.once(\"value\").then(function (snapshot) {\n          console.log(snapshot.numChildren());\n          refer.child('question' + (snapshot.numChildren() + 1)).update({\n            quiz: quiz,\n            question: question,\n            questionImageURL: url,\n            by: userAuth.displayName,\n            contactMail: userAuth.email,\n            optionOne: optionOne,\n            optionTwo: optionTwo,\n            optionThree: optionThree,\n            timeStamp: timeStamp\n          });\n        }).then(() => {\n          this.setState({\n            uploaded: true\n          }); //console.log(error)\n        });\n      });\n    };\n\n    this.handleQuizChange = event => {\n      let vs = \"\";\n      vs = event.target.value;\n      vs = vs.trim();\n      vs = vs.replace(/[^a-zA-Z ]/g, \"\");\n      this.setState({\n        quiz: vs\n      });\n    };\n\n    this.handlePublicAssignment = event => {\n      if (this.state.public) {\n        this.setState({\n          public: false\n        });\n      } else {\n        this.setState({\n          public: true\n        });\n      }\n    };\n\n    this.handlepopup = () => {\n      this.setState({\n        uploaded: false\n      });\n    };\n\n    this.state = {\n      quiz: '',\n      optionOne: '',\n      optionTwo: '',\n      optionThree: '',\n      optionFour: '',\n      question: '',\n      image: null,\n      url: \"\",\n      progress: 0,\n      uploaded: false,\n      public: true\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \" mx-4 mt-5 pt-5 \",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"whitefont\",\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"EnterAssignmentName [Case Sensitive] ::\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.state.quiz,\n            onChange: this.handleQuizChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"EnterQuestion ::\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: this.state.question,\n            onChange: this.handleQuestionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Option 1 ::\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: this.state.optionOne,\n            onChange: this.handleoptionOneChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Option 2 ::\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: this.state.optionTwo,\n            onChange: this.handleoptionTwoChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Option 3 ::\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: this.state.optionThree,\n            onChange: this.handleoptionThreeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Option 4 ::\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: this.state.optionFour,\n            onChange: this.handleoptionFourChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-field input-field\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"btn\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"File\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    onChange: this.handleQuestionImageChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"progress\", {\n                  value: this.state.progress,\n                  max: \"100\",\n                  className: \"progress my-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.handleQuestionImageUpload,\n                className: \"btn effect01\",\n                children: \"Upload\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: this.state.url,\n                alt: \"Uploaded Images\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            defaultChecked: this.state.public,\n            onChange: this.handlePublicAssignment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Make this as Public\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            class: \"btn effect01 \",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: this.state.uploaded\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), this.state.uploaded ? /*#__PURE__*/_jsxDEV(\"section\", {\n        class: \"details-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"details-modal-title\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"My details modal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"details-modal-content\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You can click the X in the corner or click the overlay to close this modal. Something like this could be useful as a nice way to show additional information, but that's about as far as I would take it. It's just a nice way of styling the details element.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn effect01 \",\n          onClick: this.handlepopup,\n          children: \"Okay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 32\n      }, this) : null]\n    }, void 0, true);\n  }\n\n}\n\nCreator.contextType = UserContext;\nexport default Creator;","map":{"version":3,"sources":["C:/Users/USER/SkillMaster_CloudProject/skillmaster/src/Components/creator.js"],"names":["React","Component","useContext","Redirect","Link","Footer","useState","useEffect","UserContext","firebase","auth","require","storage","timeStamp","Date","now","Creator","constructor","props","handleQuestionChange","event","setState","question","target","value","handleoptionOneChange","optionOne","handleoptionTwoChange","optionTwo","handleoptionThreeChange","optionThree","handleoptionFourChange","optionFour","handleQuestionImageChange","e","files","image","handleQuestionImageUpload","state","uploadTask","ref","put","on","snapshot","progress","Math","round","bytesTransferred","totalBytes","error","console","log","getDownloadURL","then","downloadURL","url","handleSubmit","quiz","preventDefault","onAuthStateChanged","userAuth","refer","database","uid","public","once","numChildren","child","update","questionImageURL","by","displayName","contactMail","email","uploaded","handleQuizChange","vs","trim","replace","handlePublicAssignment","handlepopup","render","contextType"],"mappings":"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","sourcesContent":["\r\n\r\n\r\n\r\nimport React, { Component } from 'react'\r\nimport { useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom'\r\nimport Footer from \"../Components/footer\"\r\nimport { useState, useEffect } from 'react';\r\nimport '../Components/question.css'\r\nimport '../Components/creatorcss.css'\r\nimport { UserContext } from \"../providers/UserProvider\";\r\nimport firebase from \"firebase/app\";\r\nimport { auth } from \"../firebase\"\r\nrequire('firebase/auth');\r\nrequire('firebase/database');\r\nrequire('firebase/storage');\r\n\r\nconst storage = firebase.storage();\r\n\r\nconst timeStamp = Date.now()\r\nclass Creator extends Component {\r\n\r\n\r\n  static contextType = UserContext;\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      quiz: '',\r\n      optionOne : '',\r\n      optionTwo: '',\r\n      optionThree : '',\r\n      optionFour : '',\r\n      question: '',\r\n      image: null,\r\n      url: \"\",\r\n      progress: 0,\r\n      uploaded: false,\r\n      public: true\r\n    }\r\n  }\r\n  handleQuestionChange = (event) => {\r\n    this.setState({\r\n      question: event.target.value\r\n    });\r\n\r\n  }\r\n\r\n  handleoptionOneChange = (event) => {\r\n    this.setState({\r\n      optionOne: event.target.value\r\n    });\r\n\r\n  }\r\n\r\n  handleoptionTwoChange = (event) => {\r\n    this.setState({\r\n      optionTwo: event.target.value\r\n    });\r\n\r\n  }\r\n\r\n  handleoptionThreeChange = (event) => {\r\n    this.setState({\r\n      optionThree: event.target.value\r\n    });\r\n\r\n  }\r\n\r\n  handleoptionFourChange = (event) => {\r\n    this.setState({\r\n      optionFour: event.target.value\r\n    });\r\n\r\n  }\r\n  handleQuestionImageChange = e => {\r\n    if (e.target.files[0]) {\r\n      const image = e.target.files[0];\r\n      this.setState(() => ({ image }));\r\n    }\r\n  };\r\n  handleQuestionImageUpload = () => {\r\n    const { image } = this.state;\r\n    const uploadTask = storage.ref(`/images/${timeStamp}`).put(image);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      snapshot => {\r\n        // progress function ...\r\n        const progress = Math.round(\r\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n        );\r\n        this.setState({ progress });\r\n      },\r\n      error => {\r\n        // Error function ...\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        // complete function ...\r\n        uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n          console.log('File available at', downloadURL);\r\n          this.setState({ url: downloadURL });\r\n        });\r\n      }\r\n    );\r\n  };\r\n  handleSubmit = (event) => {\r\n    let quiz = \"\"\r\n    quiz = this.state.quiz\r\n    let question = \"\"\r\n    question = this.state.question\r\n    let url = \"\"\r\n    url = this.state.url\r\n    let optionOne=\"\"\r\n    optionOne =this.state.optionOne\r\n    let optionTwo=\"\"\r\n    optionTwo =this.state.optionTwo\r\n    let optionThree=\"\"\r\n    optionThree =this.state.optionThree\r\n    let optionFour=\"\"\r\n    optionFour =this.state.optionFour\r\n\r\n    event.preventDefault();\r\n    auth.onAuthStateChanged(userAuth => {\r\n\r\n      let refer = firebase.database().ref('/users/' + userAuth.uid + '/public/' + this.state.quiz + '/')\r\n      if (!this.state.public) {\r\n        refer = firebase.database().ref('/users/' + userAuth.uid + '/private/' + this.state.quiz + '/')\r\n      }\r\n      refer.once(\"value\").then(function (snapshot) {\r\n        console.log(snapshot.numChildren());\r\n        refer.child('question' + (snapshot.numChildren() + 1)).update({\r\n          quiz: quiz,\r\n          question: question,\r\n          questionImageURL: url,\r\n          by: userAuth.displayName,\r\n          contactMail: userAuth.email,\r\n          optionOne :optionOne,\r\n          optionTwo :optionTwo,\r\n          optionThree :optionThree,\r\n          \r\n          timeStamp: timeStamp\r\n        })\r\n      }).then(() => {\r\n\r\n        this.setState({ uploaded: true });\r\n        //console.log(error)\r\n      });\r\n\r\n    });\r\n  }\r\n  handleQuizChange = (event) => {\r\n    let vs = \"\"\r\n    vs = event.target.value\r\n    vs = vs.trim();\r\n    vs = vs.replace(/[^a-zA-Z ]/g, \"\")\r\n    this.setState({\r\n      quiz: vs\r\n    });\r\n  }\r\n  handlePublicAssignment = (event) => {\r\n    if (this.state.public) {\r\n      this.setState({\r\n        public: false\r\n      });\r\n    } else {\r\n      this.setState({\r\n        public: true\r\n      });\r\n    }\r\n  }\r\n  handlepopup = () => {\r\n    this.setState({\r\n      uploaded: false\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <section className=\" mx-4 mt-5 pt-5 \">\r\n          <form className=\"whitefont\" onSubmit={this.handleSubmit}>\r\n            <div>EnterAssignmentName [Case Sensitive] ::</div>\r\n            <input value={this.state.quiz} onChange={this.handleQuizChange} />\r\n            <div>EnterQuestion ::</div>\r\n            <textarea value={this.state.question} onChange={this.handleQuestionChange} />\r\n\r\n            <div>Option 1 ::</div>\r\n            <textarea value={this.state.optionOne} onChange={this.handleoptionOneChange} />\r\n\r\n            \r\n            <div>Option 2 ::</div>\r\n            <textarea value={this.state.optionTwo} onChange={this.handleoptionTwoChange} />\r\n\r\n            \r\n            <div>Option 3 ::</div>\r\n            <textarea value={this.state.optionThree} onChange={this.handleoptionThreeChange} />\r\n\r\n            \r\n            <div>Option 4 ::</div>\r\n            <textarea value={this.state.optionFour} onChange={this.handleoptionFourChange} />\r\n\r\n            \r\n\r\n            <section>\r\n\r\n              <div className=\"\">\r\n\r\n                <div className=\"file-field input-field\">\r\n                  <div className=\"btn\">\r\n                    <span>File</span>\r\n                    <input type=\"file\" onChange={this.handleQuestionImageChange} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <progress value={this.state.progress} max=\"100\" className=\"progress my-4\" />\r\n                </div>\r\n                <button\r\n                  onClick={this.handleQuestionImageUpload} className=\"btn effect01\">\r\n                  Upload\r\n                  </button>\r\n                <img src={this.state.url} alt=\"Uploaded Images\" />\r\n              </div>\r\n            </section>\r\n\r\n            <input type=\"checkbox\" defaultChecked={this.state.public} onChange={this.handlePublicAssignment} />\r\n            <label>Make this as Public</label>\r\n            <button type=\"submit\" class=\"btn effect01 \">Send</button>\r\n            <Link to={this.state.uploaded}></Link>\r\n          </form>\r\n        </section>\r\n        {this.state.uploaded ? <section class=\"details-modal\"  >\r\n          <div class=\"details-modal-title\">\r\n            <h1>My details modal</h1>\r\n          </div>\r\n          <div class=\"details-modal-content\">\r\n            <p>\r\n              You can click the X in the corner or click the overlay to close this modal.\r\n              Something like this could be useful as a nice way to show additional information,\r\n              but that's about as far as I would take it. It's just a nice way of styling the details element.\r\n      </p>\r\n          </div>\r\n\r\n          <button class=\"btn effect01 \" onClick={this.handlepopup}>Okay</button>\r\n        </section> : null}\r\n      </>\r\n    )\r\n  }\r\n\r\n\r\n}\r\nexport default Creator"]},"metadata":{},"sourceType":"module"}