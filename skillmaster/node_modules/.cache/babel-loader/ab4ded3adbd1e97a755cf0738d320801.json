{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\SkillMaster_CloudProject\\\\skillmaster\\\\src\\\\Components\\\\modifier.js\";\nimport React, { Component } from 'react';\nimport { useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport Footer from \"../Components/footer\";\nimport { useState, useEffect } from 'react';\nimport '../Components/question.css';\nimport '../Components/creatorcss.css';\nimport '../Components/profilecss.css';\nimport { UserContext } from \"../providers/UserProvider\";\nimport firebase from \"firebase/app\";\nimport { auth } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nrequire('firebase/auth');\n\nrequire('firebase/database');\n\nrequire('firebase/storage');\n\nconst storage = firebase.storage();\nconst timeStamp = Date.now();\n\nclass Modifier extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleQuizChoose = quizName => {\n      this.setState({\n        cquizName: quizName\n      });\n      console.log(this.state.cquizName);\n      console.log(this.state.auth);\n      let questions = firebase.database().ref('/users/' + this.state.auth + '/private/' + quizName + '/q');\n      questions.on(\"value\", snapshot => {\n        let questionslist = [];\n        snapshot.forEach(snap => {\n          //console.log(snap.val())\n          questionslist.push(snap.val());\n        });\n        this.setState({\n          questionslist: questionslist\n        });\n      });\n      this.setState({\n        showquestion: true\n      });\n    };\n\n    this.handleQuestionChoose = q => {\n      this.setState({\n        cquestion: q.question\n      });\n      this.setState({\n        optionOne: q.optionOne\n      });\n      this.setState({\n        optionTwo: q.optionTwo\n      });\n      this.setState({\n        optionThree: q.optionThree\n      });\n      this.setState({\n        optionFour: q.optionFour\n      });\n      this.setState({\n        url: q.questionImageURL\n      });\n      this.setState({\n        questionnumber: q.questionnumber\n      });\n      this.setState({\n        showfullquestion: true\n      });\n      this.setState({\n        saveChanges: true\n      });\n    };\n\n    this.handlecquestionchange = event => {\n      this.setState({\n        cquestion: event.target.value\n      });\n    };\n\n    this.handlecquestionOptionOnechange = event => {\n      this.setState({\n        optionOne: event.target.value\n      });\n    };\n\n    this.handlecquestionOptionTwochange = event => {\n      this.setState({\n        optionTwo: event.target.value\n      });\n    };\n\n    this.handlecquestionOptionThreechange = event => {\n      this.setState({\n        optionThree: event.target.value\n      });\n    };\n\n    this.handlecquestionOptionFourchange = event => {\n      this.setState({\n        optionFour: event.target.value\n      });\n    };\n\n    this.handleQuestionImageChange = e => {\n      this.setState({\n        status: \"Image Linked !\"\n      });\n\n      if (e.target.files[0]) {\n        const image = e.target.files[0];\n        this.setState(() => ({\n          image\n        }));\n      }\n    };\n\n    this.handleQuestionImageUpload = event => {\n      this.setState({\n        status: \"preparing image to upload Image !\"\n      });\n      this.setState({\n        progress: 30\n      });\n      const {\n        image\n      } = this.state;\n      const uploadTask = storage.ref(`/images/${timeStamp}`).put(image);\n      uploadTask.on(\"state_changed\", snapshot => {\n        // progress function ...\n        const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n        this.setState({\n          progress: progress\n        });\n      }, error => {\n        // Error function ...\n        console.log(error);\n      }, () => {\n        // complete function ...\n        uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\n          console.log('File available at', downloadURL);\n          this.setState({\n            status: \"ImageURL created !\"\n          });\n          this.setState({\n            url: downloadURL\n          });\n          this.state.saveChanges ? this.UploadQuestionChanges() : this.handleAddQuestion();\n        });\n      });\n    };\n\n    this.UploadQuestionChanges = () => {\n      this.setState({\n        progress: 65\n      });\n      this.setState({\n        status: \"Updating Changes in Question !!!\"\n      });\n      let questionReference = firebase.database().ref(\"/users/\" + this.state.auth + \"/private/\" + this.state.cquizName + \"/q/\" + this.state.questionnumber);\n      questionReference.update({\n        question: this.state.cquestion,\n        questionImageURL: this.state.url,\n        optionOne: this.state.optionOne,\n        optionTwo: this.state.optionTwo,\n        optionThree: this.state.optionThree,\n        optionFour: this.state.optionFour,\n        questionnumber: this.state.questionnumber\n      }).then(() => {\n        this.setState({\n          progress: 100\n        });\n        this.setState({\n          status: \"Changes Updated !!\"\n        });\n        this.setState({\n          uploaded: true\n        });\n      });\n    };\n\n    this.handlepopup = () => {\n      this.setState({\n        uploaded: false\n      });\n    };\n\n    this.handleAdd = () => {\n      this.setState({\n        saveChanges: false\n      });\n      this.setState({\n        cquestion: ''\n      });\n      this.setState({\n        optionOne: ''\n      });\n      this.setState({\n        optionTwo: ''\n      });\n      this.setState({\n        optionThree: ''\n      });\n      this.setState({\n        optionFour: ''\n      });\n      this.setState({\n        url: ''\n      });\n      this.setState({\n        questionnumber: ''\n      });\n      this.setState({\n        showfullquestion: true\n      });\n    };\n\n    this.handleAddQuestion = () => {\n      let questionnumber = \"\";\n      let userQref = firebase.database().ref('/users/' + this.state.auth + '/private/' + this.state.cquizName + '/q/');\n      userQref.once(\"value\").then(function (snapshot) {\n        console.log(snapshot.numChildren() + 1 + \"as  questionNumber\");\n        questionnumber = \"question\" + (snapshot.numChildren() + 1);\n      }).then(e => {\n        console.log(\"questionNumber\");\n        userQref.child(questionnumber).update({\n          question: this.state.cquestion,\n          questionImageURL: this.state.url,\n          optionOne: this.state.optionOne,\n          optionTwo: this.state.optionTwo,\n          optionThree: this.state.optionThree,\n          optionFour: this.state.optionFour,\n          questionnumber: this.state.questionnumber\n        }).then(() => {\n          this.setState({\n            progress: 100\n          });\n          this.setState({\n            status: \"Changes Updated !!\"\n          });\n          this.setState({\n            uploaded: true\n          }); //this.setState({ questionnumber:questionnumber})\n        });\n      });\n    };\n\n    this.state = {\n      publicquizlist: [],\n      cquizName: '',\n      showquestion: false,\n      qes: [],\n      auth: [],\n      questionslist: [],\n      showfullquestion: false,\n      cquestion: '',\n      saveChanges: true,\n      uploaded: false,\n      questionnumber: \"k\",\n      createTask: false\n    };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(userAuth => {\n      let refer = firebase.database().ref('/users/' + userAuth.uid + '/private/');\n      let uid = userAuth.uid;\n      this.setState({\n        auth: uid\n      });\n      refer.on(\"value\", snapshot => {\n        let publicquizlist = [];\n        snapshot.forEach(snap => {\n          // console.log(snap.val())\n          // console.log(snapshot)\n          publicquizlist.push(snap.val());\n        });\n        this.setState({\n          publicquizlist: publicquizlist\n        });\n      });\n    });\n  }\n\n  handleAddTask() {\n    this.setState({\n      createTask: true\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \" mx-4 mt-5 pt-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"hellos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-center\",\n            children: [this.state.publicquizlist.map(data => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"boxm\",\n                onClick: () => {\n                  this.handleQuizChoose(data.quizName);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: data.quizName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 114\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 37\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"boxm\",\n              onClick: () => {\n                this.handleAddTask();\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"ADD TASK\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 83\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 21\n          }, this), this, this.state.showquestion ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-center\",\n            children: [this.state.questionslist.map(data => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"boxm\",\n                  onClick: () => {\n                    this.handleQuestionChoose(data);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: data.question\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 109\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 40\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"boxm\",\n              onClick: () => {\n                this.handleAdd();\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"ADD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 83\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 26\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 21\n          }, this) : null, this.state.showfullquestion ? /*#__PURE__*/_jsxDEV(\"section\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Question ::\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: this.state.cquestion,\n              onChange: this.handlecquestionchange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"optionOne ::\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: this.state.optionOne,\n              onChange: this.handlecquestionOptionOnechange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"optionTwo ::\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: this.state.optionTwo,\n              onChange: this.handlecquestionOptionTwochange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"optionThree ::\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: this.state.optionThree,\n              onChange: this.handlecquestionOptionThreechange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"optionFour ::\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: this.state.optionFour,\n              onChange: this.handlecquestionOptionFourchange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: this.state.url,\n              alt: \"Uploaded Images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: this.state.url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Choose Replace Image ::\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: this.handleQuestionImageChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"progress\", {\n              value: this.state.progress,\n              max: \"100\",\n              className: \"progress my-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: this.state.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 1\n            }, this), this.state.saveChanges ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                this.handleQuestionImageUpload();\n              },\n              class: \"btn effect01 \",\n              children: \"Save Changes to Question\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 1\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                this.handleQuestionImageUpload();\n              },\n              class: \"btn effect01 \",\n              children: \"Add Question\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 1\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 50\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), this.state.uploaded ? /*#__PURE__*/_jsxDEV(\"section\", {\n        class: \"details-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"details-modal-title\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Question Updated Sucessfully !!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"details-modal-content\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Your Question is Updated Sucessfully as :: \", this.state.questionnumber, \" under Quiz :: \", this.state.cquizName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn effect01 \",\n          onClick: this.handlepopup,\n          children: \"Okay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 40\n      }, this) : null]\n    }, void 0, true);\n  }\n\n}\n\nexport default Modifier;","map":{"version":3,"sources":["C:/Users/USER/SkillMaster_CloudProject/skillmaster/src/Components/modifier.js"],"names":["React","Component","useContext","Redirect","Link","Footer","useState","useEffect","UserContext","firebase","auth","require","storage","timeStamp","Date","now","Modifier","constructor","props","handleQuizChoose","quizName","setState","cquizName","console","log","state","questions","database","ref","on","snapshot","questionslist","forEach","snap","push","val","showquestion","handleQuestionChoose","q","cquestion","question","optionOne","optionTwo","optionThree","optionFour","url","questionImageURL","questionnumber","showfullquestion","saveChanges","handlecquestionchange","event","target","value","handlecquestionOptionOnechange","handlecquestionOptionTwochange","handlecquestionOptionThreechange","handlecquestionOptionFourchange","handleQuestionImageChange","e","status","files","image","handleQuestionImageUpload","progress","uploadTask","put","Math","round","bytesTransferred","totalBytes","error","getDownloadURL","then","downloadURL","UploadQuestionChanges","handleAddQuestion","questionReference","update","uploaded","handlepopup","handleAdd","userQref","once","numChildren","child","publicquizlist","qes","createTask","componentDidMount","onAuthStateChanged","userAuth","refer","uid","handleAddTask","render","map","data"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react'\r\nimport { useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom'\r\nimport Footer from \"../Components/footer\"\r\nimport { useState, useEffect } from 'react';\r\nimport '../Components/question.css'\r\nimport '../Components/creatorcss.css'\r\nimport '../Components/profilecss.css'\r\nimport { UserContext } from \"../providers/UserProvider\";\r\nimport firebase from \"firebase/app\";\r\nimport { auth } from \"../firebase\"\r\nrequire('firebase/auth');\r\nrequire('firebase/database');\r\nrequire('firebase/storage');\r\n\r\n\r\nconst storage = firebase.storage();\r\nconst timeStamp = Date.now()\r\nclass Modifier extends Component{\r\n    constructor(props) {\r\n    \r\n        super(props);\r\n       \r\n        this.state = {\r\n            publicquizlist : [],\r\n            cquizName:'',\r\n            showquestion : false,\r\n            qes:[],\r\n            auth:[],\r\n            questionslist :[],\r\n            showfullquestion:false,\r\n            cquestion:'',\r\n            saveChanges:true,\r\n            uploaded:false,\r\n            questionnumber:\"k\",\r\n            createTask:false,\r\n\r\n        }\r\n        }\r\n\r\n\r\n        componentDidMount(){\r\n            \r\n\r\n\r\n            auth.onAuthStateChanged(userAuth => {\r\n\r\n           let refer = firebase.database().ref('/users/' + userAuth.uid + '/private/')\r\n                        let uid=userAuth.uid\r\n                        this.setState({auth : uid})\r\n                refer.on(\"value\", snapshot => {\r\n                    let publicquizlist = [];\r\n                    snapshot.forEach(snap => {\r\n                    // console.log(snap.val())\r\n                    // console.log(snapshot)\r\n                        publicquizlist.push(snap.val());\r\n                    });\r\n                    this.setState({ publicquizlist: publicquizlist });\r\n                  });\r\n        })}\r\n\r\n         handleQuizChoose=(quizName)=>{\r\n             \r\n            this.setState({cquizName :quizName})\r\n\r\n            console.log(this.state.cquizName)\r\n            console.log(this.state.auth)\r\n            let questions = firebase.database().ref('/users/' + this.state.auth + '/private/'+quizName+'/q')\r\n            questions.on(\"value\", snapshot => {\r\n                let questionslist =[];\r\n                snapshot.forEach(snap => {\r\n                        \r\n                     //console.log(snap.val())\r\n                     \r\n                    questionslist.push(snap.val());\r\n                    \r\n                    });\r\n                    this.setState({questionslist :questionslist})\r\n                    \r\n            })\r\n            this.setState({showquestion :true})\r\n        }\r\n        handleQuestionChoose=(q)=>{\r\n\r\n            this.setState({cquestion :q.question})\r\n            this.setState({optionOne :q.optionOne})\r\n            this.setState({ optionTwo  : q.optionTwo  })\r\n            this.setState({  optionThree : q. optionThree })\r\n            this.setState({ optionFour  : q.optionFour  })\r\n            this.setState({ url :q.questionImageURL})\r\n            this.setState({ questionnumber:q.questionnumber})\r\n                this.setState({showfullquestion :true})\r\n                this.setState({ saveChanges :true})\r\n        }\r\n        handlecquestionchange=(event)=>{\r\n\r\n            this.setState({cquestion :event.target.value})\r\n        }\r\n        handlecquestionOptionOnechange=(event)=>{\r\n            this.setState({optionOne :event.target.value})\r\n        }\r\n        handlecquestionOptionTwochange=(event)=>{\r\n            this.setState({optionTwo :event.target.value})\r\n        }\r\n        handlecquestionOptionThreechange=(event)=>{\r\n            this.setState({optionThree :event.target.value})\r\n        }\r\n        handlecquestionOptionFourchange=(event)=>{\r\n            this.setState({optionFour :event.target.value})\r\n        }\r\n        handleQuestionImageChange = e => {\r\n    \r\n            this.setState({ status: \"Image Linked !\" });\r\n            if (e.target.files[0]) {\r\n              const image = e.target.files[0];\r\n              this.setState(() => ({ image }));\r\n            }\r\n          };\r\n  handleQuestionImageUpload = (event) => {\r\n    \r\n    this.setState({ status: \"preparing image to upload Image !\" });\r\n    this.setState({ progress: 30 });\r\n    const { image } = this.state;\r\n    const uploadTask = storage.ref(`/images/${timeStamp}`).put(image);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      snapshot => {\r\n        // progress function ...\r\n        const progress = Math.round(\r\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n        );\r\n        this.setState({ progress:progress });\r\n      },\r\n      error => {\r\n        // Error function ...\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        // complete function ...\r\n        uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n          console.log('File available at', downloadURL);\r\n          \r\n        this.setState({ status: \"ImageURL created !\" });\r\n          this.setState({ url: downloadURL });\r\n          this.state.saveChanges ? this.UploadQuestionChanges(): this.handleAddQuestion()\r\n        });\r\n      }\r\n    );\r\n  };\r\n  UploadQuestionChanges =()=>{\r\n    \r\n    this.setState({ progress: 65 });\r\n    this.setState({ status: \"Updating Changes in Question !!!\" });\r\n   let  questionReference= firebase.database().ref(\"/users/\"+this.state.auth+\"/private/\"+this.state.cquizName+\"/q/\"+this.state.questionnumber)\r\n   questionReference.update({\r\n    question: this.state.cquestion,\r\n    questionImageURL: this.state.url,\r\n    optionOne: this.state.optionOne,\r\n    optionTwo: this.state.optionTwo,\r\n    optionThree: this.state.optionThree,\r\n    optionFour: this.state.optionFour,\r\n    questionnumber:this.state.questionnumber\r\n   }).then(()=>{\r\n       \r\n    this.setState({ progress: 100 });\r\n    this.setState({ status: \"Changes Updated !!\" });\r\n       this.setState({uploaded :true})\r\n   })\r\n  }\r\n  handlepopup = () => {\r\n    this.setState({      uploaded: false    });\r\n  }\r\n  handleAdd=()=>{\r\n    this.setState({ saveChanges :false})\r\n    this.setState({cquestion :''})\r\n    this.setState({optionOne :''})\r\n    this.setState({ optionTwo  : ''  })\r\n    this.setState({  optionThree : '' })\r\n    this.setState({ optionFour  : ''  })\r\n    this.setState({ url :''})\r\n    this.setState({ questionnumber:''})\r\n        this.setState({showfullquestion :true})\r\n  }\r\n  handleAddQuestion=()=>{\r\n    let questionnumber=\"\"\r\n   let userQref = firebase.database().ref('/users/' + this.state.auth + '/private/' + this.state.cquizName + '/q/')\r\n   userQref.once(\"value\").then(function (snapshot) {\r\n    \r\n    console.log((snapshot.numChildren()+1)+\"as  questionNumber\");\r\n    questionnumber=\"question\"+(snapshot.numChildren()+1)\r\n    \r\n\r\n}).then((e)=>{\r\n\r\n    console.log(\"questionNumber\");\r\n    userQref.child(questionnumber).update({\r\n        question: this.state.cquestion,\r\n        questionImageURL: this.state.url,\r\n        optionOne: this.state.optionOne,\r\n        optionTwo: this.state.optionTwo,\r\n        optionThree: this.state.optionThree,\r\n        optionFour: this.state.optionFour,\r\n        questionnumber:this.state.questionnumber\r\n       }).then(()=>{\r\n           \r\n    this.setState({ progress: 100 });\r\n    this.setState({ status: \"Changes Updated !!\" });\r\n       this.setState({uploaded :true})\r\n        //this.setState({ questionnumber:questionnumber})\r\n       })\r\n\r\n})\r\n}\r\n\r\n\r\n  handleAddTask(){\r\nthis.setState({createTask :true})\r\n  }\r\n\r\n        render(){\r\n            return(\r\n                <>\r\n                <div >\r\n\r\n                <section className=\" mx-4 mt-5 pt-5 \">\r\n                    <h1>hellos</h1>\r\n                    <div className=\"row justify-content-center\">\r\n                         {this.state.publicquizlist.map(data =>{ \r\n                             return(\r\n                                    <div className=\"boxm\" onClick={()=>{  this.handleQuizChoose(data.quizName)}}><h4>{data.quizName}</h4></div>\r\n                             )\r\n\r\n                         })}\r\n                    <div className=\"boxm\" onClick={()=>{ this.handleAddTask() }} ><strong>ADD TASK</strong></div>\r\n                    </div>\r\n                    {this}\r\n\r\n\r\n\r\n\r\n                    \r\n                    {this.state.showquestion ?\r\n                    <div className=\"row justify-content-center\" >\r\n\r\n                         {this.state.questionslist.map((data) =>{    \r\n                                return(<div>\r\n                                    <div className=\"boxm\" onClick={()=>{ this.handleQuestionChoose(data) }}><h4>{data.question}</h4></div>\r\n                                    </div>) \r\n                         })}\r\n                         <div className=\"boxm\" onClick={()=>{ this.handleAdd() }}><h4>ADD</h4></div>\r\n                                    \r\n                    </div> :null}\r\n                    {this.state.showfullquestion?<section>\r\n                            <span>Question ::</span>\r\n                            <textarea value={this.state.cquestion} onChange={this.handlecquestionchange}></textarea>\r\n<span>optionOne ::</span>\r\n<textarea value={this.state.optionOne} onChange={this.handlecquestionOptionOnechange}></textarea>\r\n\r\n<span>optionTwo ::</span>\r\n<textarea value={this.state.optionTwo} onChange={this.handlecquestionOptionTwochange}></textarea>\r\n\r\n<span>optionThree ::</span>\r\n<textarea value={this.state.optionThree} onChange={this.handlecquestionOptionThreechange}></textarea>\r\n\r\n<span>optionFour ::</span>\r\n<textarea value={this.state.optionFour} onChange={this.handlecquestionOptionFourchange}></textarea>\r\n\r\n<span>Image</span>\r\n<img src={this.state.url} alt=\"Uploaded Images\" />\r\n<span>{this.state.url}</span>\r\n\r\n<span>Choose Replace Image ::</span>\r\n<input type=\"file\" accept=\"image/*\" onChange={this.handleQuestionImageChange} />\r\n\r\n\r\n<progress value={this.state.progress} max=\"100\" className=\"progress my-4\" />\r\n<span>{this.state.status}</span>\r\n\r\n{this.state.saveChanges?\r\n<button onClick={()=>{this.handleQuestionImageUpload()}} class=\"btn effect01 \">Save Changes to Question</button>\r\n:\r\n<button onClick={()=>{this.handleQuestionImageUpload()}} class=\"btn effect01 \">Add Question</button>\r\n        }\r\n\r\n                    </section>:null}\r\n                </section>\r\n                </div>\r\n\r\n                {this.state.uploaded ? <section class=\"details-modal\"  >\r\n          <div class=\"details-modal-title\">\r\n            <h1>Question Updated Sucessfully !!</h1>\r\n          </div>\r\n          <div class=\"details-modal-content\">\r\n            <p>\r\n              Your Question is Updated Sucessfully as :: {this.state.questionnumber} under Quiz :: {this.state.cquizName}\r\n            </p>\r\n          </div>\r\n          <button class=\"btn effect01 \" onClick={this.handlepopup}>Okay</button>\r\n        </section> : null}\r\n                </>\r\n            )\r\n        }\r\n}\r\n\r\n\r\nexport default Modifier\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}